!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.playbyplay={})}(this,function(t){function n(t,n,a){setTimeout(function(){localhistory.append(b,t,n,a)},0)}function a(t,n){var a="function"==typeof t?t:n,y=e("object"==typeof t?t:{});localhistory.load(b,function(t,n){return t?void(y.onShow&&y.onShow(t)):void l(n,y,a)})}function e(t){return t.parent||(t.parent=document.body),t}function l(t,n,e){y(),t.reverse();var l=document.createElement("div");l.id=f,l.innerHTML=u(t),l.addEventListener("click",function(n){switch(n&&n.target&&n.target.className){case"playbyplay-button playbyplay-hide":return y(),void e(null);case"playbyplay-button playbyplay-clear":return y(),void p(function(){a(e)});case"playbyplay-button playbyplay-restore":var l=n.target.getAttribute("data-index");return y(),void e(null,t[l])}},!1);var o=null;try{n.parent.appendChild(l)}catch(r){o=r}n.onShow&&n.onShow(o)}function y(){try{var t=document.getElementById(f);t.parentNode.removeChild(t)}catch(n){}}function p(t){localhistory.clear(b,t)}var o=function(t){return String(t).replace(/[^a-z0-9]/g,"")},r=function(t){var n=document.createElement("div");return n.appendChild(document.createTextNode(t)),n.innerHTML},u=function(t){return'<button class="playbyplay-button playbyplay-hide">&lt; Back</button>'+(t.length?c(t):d)},c=function(t){return'<button class="playbyplay-button playbyplay-clear">Clear</button>\n<table class="playbyplay-runs">\n    '+t.map(i).join("")+"\n</table>"},i=function(t,n){return'<tr class="playbyplay-run '+s(t)+'">\n    <td class="playbyplay-col playbyplay-input">\n        <pre class="playbyplay-pre"><code>'+r(t.input)+'</code></pre>\n    </td>\n    <td class="playbyplay-col playbyplay-output">\n        <pre class="playbyplay-pre">'+r(t.output)+'</pre>\n    </td>\n    <td class="playbyplay-col">\n        <button class="playbyplay-button playbyplay-restore" data-index="'+n+'">\n            Restore\n        </button>\n    </td>\n</tr>'},s=function(t){return t.status?"playbyplay-status-"+o(t.status):""},d='<span class="playbyplay-empty">History is empty.</span>',b="playbyplay_0fE#n9asNy4^MD1jfj&!",f="playbyplay",h=localhistory.supported;t.supported=h,t.append=n,t.show=a,t.clear=p});
//# sourceMappingURL=playbyplay.min.js.map